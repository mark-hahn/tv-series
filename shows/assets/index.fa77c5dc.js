import{a as p,r as $,c as h,b as d,w as P,v as Z,d as N,t as C,F as I,e as v,f as S,o as m,n as x,g as ee,l as te,h as se,i as oe,j as ae,k as ne,m as ie,p as re,q as le,s as ce,u as de,x as he,y as me,z as ue,A as pe,B as fe,C as ge,D as ye}from"./vendor.4f8a20d7.js";const be=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}};be();const we='UserId="894c752d448f45a3a1260ccaabd0adff", Client="MyClient", Device="myDevice", DeviceId="123456", Version="1.0.0"';let k="";const ke=async(e,t)=>{k=(await p({method:"post",url:"http://hahnca.com:8096/emby/Users/AuthenticateByName?api_key=ba7d62f79cbd4a539b675b05b5663607",headers:{Authorization:we},data:{Username:e,Pw:t}})).data.AccessToken};async function Ie(e){const t=`http://hahnca.com:8096/emby/Items?Recursive=true&Fields=ProviderIds&Ids=${e.Id}&api_key=ba7d62f79cbd4a539b675b05b5663607`,n=(await p.get(t)).data.Items[0];return console.log("providers",{url:t,show:e,item:n}),n==null?void 0:n.ProviderIds}let V;async function ve(){await ke("MARK","90-NBVcvbasd"),V=(await p.get("http://hahnca.com/tv/gapChkStarts.json")).data}const Se=async(e,t)=>{V[e]=t;const[n,i]=t,a={method:"post",url:`http://hahnca.com/tv/gapChkStart/${e}/${n}/${i}`};await p(a)};async function Ne(){return(await p.get("http://hahnca.com/tv/folderDates")).data}async function Ce(){return(await p.get("http://hahnca.com/tv/recentDates")).data}const _e=async(e,t)=>{var a;const n=[],i=await p.get(_(t));for(let l in i.data.Items){let s=i.data.Items[l];const o=+s.IndexNumber,r={},c=await p.get(_(s.Id,!0));for(let b in c.data.Items){const w=+c.data.Items[b].IndexNumber;r[w]=!0}const u=[],f=await p.get(_(s.Id));for(let b in f.data.Items){let g=f.data.Items[b];const w=+g.IndexNumber;u.push([w,[!!((a=g==null?void 0:g.UserData)!=null&&a.Played),(g==null?void 0:g.LocationType)!="Virtual",!!r[w]]])}n.push([o,u])}return n},J=async(e,t)=>{var s;const[n,i]=V[e]||[-1,-1];let a=!1;const l=await p.get(_(t));for(let o in l.data.Items){let r=l.data.Items[o];const c=+r.IndexNumber;if(c<n)continue;const u=await p.get(_(r.Id));for(let f in u.data.Items){let b=u.data.Items[f];const g=+b.IndexNumber;if(c==n&&g<i)continue;if(!(((s=b==null?void 0:b.UserData)==null?void 0:s.Played)||b.LocationType!="Virtual"))a=!0;else if(a)return console.log(`found gap in ${e}, S${c}E${g}`),[c,g]}}return null};async function xe(){console.log("entering loadAllShows");const e=await p.get(Te()),t=[];for(let o in e.data.Items){let r=e.data.Items[o];Object.assign(r,r.UserData),delete r.UserData;for(const f of["DateCreated","PremiereDate"])r[f]&&(r[f]=r[f].replace(/T.*/,""));const c=await J(r.Name,r.Id);c&&(r.gap=c);const u=V[r.Name];u&&(r.gapChkStart=u),t.push(r)}const n=t.map(o=>o.Name),i=(await p.get("http://hahnca.com/tv/rejects.json")).data;for(let o of i){let r=!1;for(let c of n)if(c==o){const u=t.find(f=>f.Name==c);u.Reject=!0,r=!0}r||t.push({Name:o,Reject:!0,Id:"nodb-"+Math.random()})}const a=(await p.get("http://hahnca.com/tv/pickups.json")).data;for(let o of a){let r=!1;for(let c of n)if(c==o){const u=t.find(f=>f.Name==c);u.Pickup=!0,r=!0}r||t.push({Name:o,Pickup:!0,Id:"nodb-"+Math.random()})}const l=await p.get(Le()),s=[];for(let o of l.data.Items)s.push(o.Id);for(let o of t)o.InToTry=s.includes(o.Id);return t.sort((o,r)=>{const c=o.Name.replace(/The\s/i,""),u=r.Name.replace(/The\s/i,"");return c.toLowerCase()>u.toLowerCase()?1:-1}),console.log("all shows loaded"),t}async function Ee(e,t){const n={method:t?"delete":"post",url:Ue(e)};let i;try{i=await p(n)}catch{return t}return i.status==200?i.data.IsFavorite:t}async function De(e){if(e=="")return!1;const t={method:"post",url:"http://hahnca.com/tv/pickups/"+encodeURI(e)};let n,i=null;try{n=await p(t)}catch(a){i=a.message}return i||(n==null?void 0:n.data)!=="ok"?(i||(i=n==null?void 0:n.data),alert(`Error: unable to add pickup to server. Please tell mark.

Error: `+i),!1):!0}async function Ve(e,t){const n={method:t?"delete":"post",url:"http://hahnca.com/tv/rejects/"+encodeURI(e)};let i;try{i=await p(n)}catch{return t}return i.data!=="ok"?(alert(`Error: unable to save change to server. Please tell mark.

Error: `+i.data),t):!t}async function Pe(e,t){const n={method:t?"delete":"post",url:"http://hahnca.com/tv/pickups/"+encodeURI(e)};let i;try{i=await p(n)}catch{return t}return i.data!=="ok"?(alert(`Error: unable to save change to server. Please tell mark.

Error: `+i.data),t):!t}async function Me(e){const t=await p.delete(Be(e)),n=t.status;let i="ok";return n!=204&&(i=`Error: unable to delete show. Please tell mark.

Error: `+t.data,alert(i)),i}async function Re(e,t){const n={method:t?"delete":"post",url:Fe(e)};let i;try{i=await p(n)}catch{return console.log(`Error toggleToTry, id:${e}, inToTry:${t}`),t}return i.status!==204?t:(console.log(`toggled inToTry to ${!t}`),!t)}function Te(e=0,t=1e4){return`http://hahnca.com:8096 / emby
      / Users / 894c752d448f45a3a1260ccaabd0adff / Items
    ?SortBy=SortName
    &SortOrder=Ascending
    &IncludeItemTypes=Series
    &Recursive=true
    &Fields= Name              %2c Id                %2c
             IsFavorite        %2c Played            %2c 
             UnplayedItemCount %2c DateCreated       %2c 
             ExternalUrls      %2c Genres            %2c 
             Overview          %2c Path              %2c 
             People            %2c PremiereDate      %2c 
             IsUnaired
    &StartIndex=${e}
    &ParentId=4514ec850e5ad0c47b58444e17b6346c
    &Limit=${t}
    &X-Emby-Token=${k}
  `.replace(/\s*/g,"")}function _(e="",t=!1){return`http://hahnca.com:8096 / emby
      / Users / 894c752d448f45a3a1260ccaabd0adff / Items /
    ?ParentId=${e}
    ${t?"&IsUnaired = true":""}
    &X-Emby-Token=${k}
  `.replace(/\s*/g,"")}function Ue(e){return encodeURI(`http://hahnca.com:8096 / emby
          / Users / 894c752d448f45a3a1260ccaabd0adff 
          / FavoriteItems / ${e}
    ?X-Emby-Client=Emby Web
    &X-Emby-Device-Name=Chrome
    &X-Emby-Device-Id=f4079adb-6e48-4d54-9185-5d92d3b7176b
    &X-Emby-Client-Version=1.0.0
    &X-Emby-Token=${k}
  `.replace(/\s*/g,""))}function Be(e){return`http://hahnca.com:8096 / emby / Items / ${e}
    ?X-Emby-Client=EmbyWeb
    &X-Emby-Device-Name=Chrome
    &X-Emby-Device-Id=f4079adb-6e48-4d54-9185-5d92d3b7176b
    &X-Emby-Client-Version=4.6.4.0
    &X-Emby-Token=${k}
  `.replace(/\s*/g,"")}function Ae(e){return`http://hahnca.com:8096 / web / index.html #! / item
    ?id=${e}&serverId=ae3349983dbe45d9aa1d317a7753483e
    `.replace(/\s*/g,"")}function Le(){return`http://hahnca.com:8096 / emby / Users / 
          894c752d448f45a3a1260ccaabd0adff / Items
    ?ParentId=1468316
    &ImageTypeLimit=1
    &Fields=PrimaryImageAspectRatio,ProductionYear,CanDelete
    &EnableTotalRecordCount=false
    &X-Emby-Client=EmbyWeb
    &X-Emby-Device-Name=Chrome
    &X-Emby-Device-Id=f4079adb-6e48-4d54-9185-5d92d3b7176b
    &X-Emby-Client-Version=4.6.4.0
    &X-Emby-Token=${k}
  `.replace(/\s*/g,"")}function Fe(e){return`http://hahnca.com:8096 / emby / 
          Collections / 1468316 / Items
    ?Ids=${e}
    &userId=894c752d448f45a3a1260ccaabd0adff
    &X-Emby-Client=Emby Web
    &X-Emby-Device-Name=Chrome
    &X-Emby-Device-Id=f4079adb-6e48-4d54-9185-5d92d3b7176b
    &X-Emby-Client-Version=4.6.4.0
    &X-Emby-Token=${k}
  `.replace(/\s*/g,"")}const Xe={id:"hdr",style:{width:"100%","background-color":"#ccc"}},je={style:{margin:"3px 10px",display:"inline-block",width:"100%"}},We=d("div",{id:"lbl"},"TV Series",-1),ze={style:{width:"100%"}},He={style:{"background-color":"white",padding:"0 14px",width:"100%"}},Ge={style:{width:"60px","font-size":"large"}},Oe={style:{width:"75px"}},qe={key:0,style:{width:"30px","text-align":"left","font-size":"large"}},Ke={key:1,style:{width:"30px","text-align":"left","font-size":"large"}},Qe={key:2,style:{width:"30px","text-align":"left","font-size":"large"}},Ye=d("td",{style:{padding:"0 4px","text-align":"right"}},"Filters:",-1),Ze=["onClick"],Je={style:{"margin-top":"85px",width:"100%"}},$e={style:{padding:"0 5px",width:"100%","font-size":"18px"}},et={key:"show.Id",style:{outline:"thin solid"}},tt=["onClick"],st={style:{width:"30px","text-align":"center"}},ot=["onClick"],at={key:0,style:{width:"50px","font-size":"16px"}},nt=["onClick","id"],it=["onClick"],rt={key:0,id:"map",style:{width:"60%","background-color":"#eee",padding:"20px"}},lt={style:{margin:"3px 10px",display:"inline-block"}},ct={style:{padding:"0 5px",width:"100%","font-size":"16px"}},dt={style:{"font-weight":"bold"}},ht=d("td",null,null,-1),mt={style:{width:"30px","text-align":"center"},key:"episode"},ut={key:"season",style:{outline:"thin solid"}},pt={style:{"font-weight":"bold",width:"20px","text-align":"left"}},ft={key:0},gt={key:1},yt={key:2},bt={key:3};function wt(e,t,n,i,a,l){const s=$("font-awesome-icon");return m(),h("div",null,[d("div",Xe,[d("div",je,[We,P(d("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>a.searchStr=o),onInput:t[1]||(t[1]=(...o)=>l.select&&l.select(...o)),style:{border:"1px solid black",width:"100px"}},null,544),[[Z,a.searchStr]]),d("button",{onClick:t[2]||(t[2]=(...o)=>l.select&&l.select(...o))},[N(s,{icon:"search"})]),P(d("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>a.pkupEditName=o),style:{border:"1px solid black","margin-left":"20px",width:"100px"},onChange:t[4]||(t[4]=(...o)=>l.addPickUp&&l.addPickUp(...o))},null,544),[[Z,a.pkupEditName]]),d("button",{onClick:t[5]||(t[5]=(...o)=>l.addPickUp&&l.addPickUp(...o))},"+"),d("button",{onClick:t[6]||(t[6]=(...o)=>l.showAll&&l.showAll(...o)),style:{"margin-left":"20px"}}," Show All")]),d("div",ze,[d("table",He,[d("tr",null,[d("td",Ge,C(a.shows.length+"/"+a.allShowsLength),1),d("td",Oe,[d("button",{onClick:t[7]||(t[7]=(...o)=>l.sortClick&&l.sortClick(...o)),style:{width:"65px","text-align":"right"}},"Sort By:")]),a.sortByDate?(m(),h("td",qe,"Date")):a.sortByRecent?(m(),h("td",Ke,"Recent")):(m(),h("td",Qe,"Alpha")),Ye,(m(!0),h(I,null,v(a.conds,o=>(m(),h("td",{style:{width:"30px",textAlign:"center"},onClick:r=>l.condFltrClick(o)},[N(s,{icon:o.icon,style:x({color:l.condFltrColor(o)})},null,8,["icon","style"])],8,Ze))),256))])])])]),d("div",Je,[d("table",$e,[(m(!0),h(I,null,v(a.shows,o=>(m(),h("tr",et,[d("td",{style:{width:"30px","text-align":"center"},onClick:r=>l.copyNameToClipboard(o)},[N(s,{icon:"copy",style:{color:"#ccc"}})],8,tt),d("td",st,[P(d("div",{onClick:r=>l.openSeriesMap(o)},[N(s,{icon:"border-all",style:{color:"#ccc"}})],8,ot),[[ee,!o.Id.startsWith("nodb-")]])]),a.sortByDate||a.sortByRecent?(m(),h("td",at,C(a.sortByDate?o.date:o.recentDate),1)):S("",!0),d("td",{onClick:r=>l.showInExternal(o,r),style:x({padding:"4px",backgroundColor:a.highlightName==o.Name?"yellow":"white"}),id:l.nameHash(o.Name)},C(o.Name),13,nt),(m(!0),h(I,null,v(a.conds,r=>(m(),h("td",{style:{width:"30px","text-align":"center"},onClick:c=>r.click(o)},[N(s,{icon:r.icon,style:x({color:l.condColor(o,r)})},null,8,["icon","style"])],8,it))),256))]))),128))])]),a.mapShow!==null?(m(),h("div",rt,[d("div",lt,[d("button",{onClick:t[8]||(t[8]=o=>l.gapClick(a.mapShow))},"gap chk"),d("button",{onClick:t[9]||(t[9]=o=>l.closeSeriesMap())}," close")]),d("table",ct,[d("tr",dt,[ht,(m(!0),h(I,null,v(a.seriesMapEpis,o=>(m(),h("td",mt,C(o),1))),128))]),(m(!0),h(I,null,v(a.seriesMapSeasons,o=>(m(),h("tr",ut,[d("td",pt,C(o),1),(m(!0),h(I,null,v(a.seriesMapEpis,r=>{var c,u,f,b,g,w,T,U,B,A,L,F,X,j,W,z,H,G,O,q,K,Q,Y;return m(),h("td",{style:x({width:"30px",textAlign:"center",backgroundColor:(f=(u=(c=a.seriesMap)==null?void 0:c[o])==null?void 0:u[r])!=null&&f.missing?"#f88":((g=(b=a.seriesMap)==null?void 0:b.gap)==null?void 0:g[0])==o&&((T=(w=a.seriesMap)==null?void 0:w.gap)==null?void 0:T[1])==r?"yellow":((B=(U=a.seriesMap)==null?void 0:U.gcs)==null?void 0:B[0])==o&&((L=(A=a.seriesMap)==null?void 0:A.gcs)==null?void 0:L[1])==r?"#8f8":"white"}),key:"episode"},[(j=(X=(F=a.seriesMap)==null?void 0:F[o])==null?void 0:X[r])!=null&&j.played?(m(),h("span",ft," w")):S("",!0),(H=(z=(W=a.seriesMap)==null?void 0:W[o])==null?void 0:z[r])!=null&&H.avail?(m(),h("span",gt," +")):S("",!0),(q=(O=(G=a.seriesMap)==null?void 0:G[o])==null?void 0:O[r])!=null&&q.missing?(m(),h("span",yt,"-")):S("",!0),(Y=(Q=(K=a.seriesMap)==null?void 0:K[o])==null?void 0:Q[r])!=null&&Y.unaired?(m(),h("span",bt,"u")):S("",!0)],4)}),128))]))),128))])])):S("",!0)])}var kt=(e,t)=>{const n=e.__vccOpts||e;for(const[i,a]of t)n[i]=a;return n};te.add([se,oe,ae,ne,ie,re,le,ce,de,he,me,ue,pe,fe]);let y=[],E=null,D=null,M=null,R=null;const It={name:"App",components:{FontAwesomeIcon:ge},data(){const e=async s=>{this.gapClick(s)},t=async s=>{this.saveVisShow(s.Name),s.IsFavorite=await Ee(s.Id,s.IsFavorite)},n=async s=>{if(this.saveVisShow(s.Name),s.Reject=await Ve(s.Name,s.Reject),!s.Reject&&s.Id.startsWith("nodb-")){console.log("toggled reject, removing row");const o=s.Id;y=y.filter(r=>r.Id!=o),this.shows=this.shows.filter(r=>r.Id!=o)}},i=async s=>{if(this.saveVisShow(s.Name),s.Pickup=await Pe(s.Name,s.Pickup),!s.Pickup&&s.Id.startsWith("nodb-")){console.log("toggled pickUp, removing row");const o=s.Id;y=y.filter(r=>r.Id!=o),this.shows=this.shows.filter(r=>r.Id!=o)}},a=async s=>{this.saveVisShow(s.Name),s.InToTry=await Re(s.Id,s.InToTry)},l=async s=>{if(this.saveVisShow(s.Name),console.log("delete Show From Emby:",s.Name),!window.confirm(`Do you really want to delete series ${s.Name} from Emby?`))return;const o=s.Id;await Me(o)=="ok"&&(s.Pickup||s.Reject?(delete s.Genres,s.RunTimeTicks=0,s.UnplayedItemCount=0,s.IsFavorite=!1,s.Id="nodb-"+Math.random(),console.log("deleted db, keeping row")):(console.log("deleted db, removing row"),y=y.filter(c=>c.Id!=o),this.shows=this.shows.filter(c=>c.Id!=o),this.scrollSavedVisShowIntoView()))};return{shows:[],searchStr:"",pkupEditName:"",sortByDate:!1,sortByRecent:!1,highlightName:"",allShowsLength:0,mapShow:null,seriesMapSeasons:[],seriesMapEpis:[],seriesMap:{},conds:[{color:"teal",filter:0,icon:["far","laugh-beam"],cond(s){var o;return(o=s.Genres)==null?void 0:o.includes("Comedy")},click(s){}},{color:"blue",filter:0,icon:["far","sad-cry"],cond(s){var o;return(o=s.Genres)==null?void 0:o.includes("Drama")},click(s){}},{color:"#0cf",filter:0,icon:["fas","plus"],cond(s){return s.UnplayedItemCount>0},click(s){}},{color:"#f88",filter:0,icon:["fas","minus"],cond(s){return!!s.gap},click(s){e(s)}},{color:"lime",filter:0,icon:["fas","question"],cond(s){return s.InToTry},click(s){a(s)}},{color:"red",filter:0,icon:["far","heart"],cond(s){return s.IsFavorite},click(s){t(s)}},{color:"red",filter:-1,icon:["fas","ban"],cond(s){return s.Reject},click(s){n(s)}},{color:"#5ff",filter:0,icon:["fas","arrow-down"],cond(s){return s.Pickup},click(s){i(s)}},{color:"#a66",filter:0,icon:["fas","tv"],cond(s){return!s.Id.startsWith("nodb-")},click(s){l(s)}}]}},methods:{async gapClick(e){if(this.saveVisShow(e.Name),e.gap){await Se(e.Name,e.gap),e.gapChkStart=e.gap;const t=await J(e.Name,e.Id);t?(e.gap=t,console.log("updated gap",{series:e.Name,gap:t})):(delete e.gap,console.log("deleted gap in",e.Name))}this.openSeriesMap(e)},nameHash(e){return this.allShowsLength=y.length,e||(console.log("nameHash name param null",{name:e}),console.trace()),"name-"+e.toLowerCase().replace(/^the\s/,"").replace(/[^a-zA-Z0-9]*/g,"")},saveVisShow(e){const t=this.nameHash(e);console.log(`saving ${t} as last visible show`),this.highlightName=e,window.localStorage.setItem("lastVisShow",e)},async sortClick(){if(this.sortByRecent)this.sortByRecent=!1;else if(this.sortByDate){if(this.sortByDate=!1,this.sortByRecent=!0,!D){D=await Ce(),console.log("loaded recentDates",D);for(let e of y)e.recentDate=D[this.nameHash(e.Name)],e.recentDate||(e.recentDate="01/01/01")}}else if(this.sortByDate=!0,!E){E=await Ne(),console.log("loaded dates",E);for(let e of y)e.date=E[this.nameHash(e.Name)],e.date||(e.date="01/01/01")}this.sortShows(),this.showAll()},scrollSavedVisShowIntoView(){this.$nextTick(()=>{const e=window.localStorage.getItem("lastVisShow"),t=this.nameHash(e);this.highlightName=e,console.log(`srolling ${t} into view`);const n=document.getElementById(t);if(n)n.scrollIntoView(!0),document.getElementById("hdr"),window.scrollBy(0,-80);else{console.log(`show ${t} not in show list, finding nearest match`);for(let i of this.shows){const a=this.nameHash(i.Name);if(a>t){const l=document.getElementById(a);l&&(l.scrollIntoView(!0),window.scrollBy(0,-160),this.saveVisShow(i.Name));break}}}})},copyNameToClipboard(e){console.log(`copying ${e.Name} to clipboard`),navigator.clipboard.writeText(e.Name),this.saveVisShow(e.Name)},async openSeriesMap(e){this.mapShow=e;const t=[],n=[],i={gap:e.gap,gcs:e.gapChkStart},a=await _e(e.Name,e.Id);console.log({seriesMapGap:i.gap});for(const l of a){const[s,o]=l;t[s]=s;const r={};i[s]=r;for(const c of o){let[u,[f,b,g]]=c;n[u]=u;const w=!f&&!b&&!g;b=b&&!f,r[u]={played:f,avail:b,missing:w,unaired:g}}}this.seriesMapSeasons=t.filter(l=>l!==null&&l!==null),this.seriesMapEpis=n.filter(l=>l!==null&&l!==null).unshift(""),this.seriesMap=i,console.log({thisSeriesMapGap:this.seriesMap.gap}),this.saveVisShow(e.Name)},closeSeriesMap(){this.mapShow=null},condFltrClick(e){++e.filter==2&&(e.filter=-1),this.select()},condFltrColor(e){switch(e.filter){case 0:return"gray";case-1:return"#ddd";case 1:return e.color}},sortShows(){y.sort((e,t)=>{if(this.sortByDate)return e.date>t.date?-1:1;if(this.sortByRecent)return e.recentDate>t.recentDate?-1:1;{const n=e.Name.replace(/The\s/i,""),i=t.Name.replace(/The\s/i,"");return n.toLowerCase()>i.toLowerCase()?1:-1}})},addPickUp(){const e=this.pkupEditName;if(y.some(t=>t.Name==e)){console.log("addPickUp: skipping duplicate show name",e);return}e&&De(e)&&(y.push({Name:e,Pickup:!0,Id:"nodb-"+Math.random()}),this.highlightName=e,this.sortShows(),this.saveVisShow(e),this.scrollSavedVisShowIntoView(),console.log("added pickup",e)),this.pkupEditName=""},condColor(e,t){return t.cond(e)?t.color:"#ddd"},select(){const e=this.searchStr==""?null:this.searchStr.toLowerCase();this.shows=y.filter(t=>{if(e&&!t.Name.toLowerCase().includes(e))return!1;for(let n of this.conds)if(n.filter!==0&&n.filter===1!=!!n.cond(t))return!1;return!0}),this.scrollSavedVisShowIntoView()},showAll(){this.searchStr="";for(let n of this.conds)n.filter=0;const e=this.conds[this.conds.length-2];console.log("ban cond color:",e.color),e.filter=-1,this.select(),this.shows=y;const t=y[0].Name;this.saveVisShow(t),this.highlightName=t,this.scrollSavedVisShowIntoView()},async showInExternal(e,t){if(console.log("showInExternal",e),this.saveVisShow(e.Name),!e.Id.startsWith("nodb-"))if(t.ctrlKey){R&&R.close();const n=await Ie(e);if(n!=null&&n.Imdb){const i=`https://www.imdb.com/title/${n.Imdb}`;R=window.open(i,"imdbWebPage")}}else M&&M.close(),M=window.open(Ae(e.Id),"embyWebPage")}},mounted(){(async()=>{await ve(),y=await xe(),this.shows=y;const e=window.localStorage.getItem("lastVisShow");let t;if(e&&(t=this.nameHash(e)),!e||!t){const i=y[0].Name;this.highlightName=i,this.saveVisShow(i)}else this.scrollSavedVisShowIntoView();const n=this.conds[this.conds.length-2];console.log("ban cond color:",n.color),n.filter=-1,this.select()})()}};var vt=kt(It,[["render",wt]]);ye(vt).mount("#app");
